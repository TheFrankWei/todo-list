(this["webpackJsonptodo-list"]=this["webpackJsonptodo-list"]||[]).push([[0],{51:function(e,t,r){},58:function(e,t,r){},61:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),s=r(23),i=r.n(s),o=(r(51),r(25)),c=r(4),l=r(35),d=r(2),u=r(45),b=r(12),j=r(36),h=r(39),m=r(17),p=Object(m.c)({name:"table",initialState:{taskList:[],filteredList:[]},reducers:{getTaskList:function(e){var t=JSON.parse(localStorage.getItem("taskList"));e.taskList=t||[]},createTask:function(e,t){var r=t.payload;e.taskList.unshift(r)},updateTask:function(e,t){var r=t.payload,n=e.taskList.findIndex((function(e){return e.id===r.id}));e.taskList[n].task=r.task,localStorage.setItem("taskList",JSON.stringify(e.taskList))},deleteTask:function(e,t){var r=t.payload,n=e.taskList.filter((function(e){return e.id!==r}));localStorage.setItem("taskList",JSON.stringify(n)),e.taskList=n},filterTaskList:function(e,t){var r=t.payload,n=e.taskList.filter((function(e){return e.task.includes(r.toLowerCase())}));e.filteredList=n},setTaskList:function(e,t){var r=t.payload;localStorage.setItem("taskList",JSON.stringify(r)),e.taskList=r}}}),f=p.actions,g=f.getTaskList,O=f.createTask,x=f.updateTask,v=f.deleteTask,y=f.filterTaskList,k=f.setTaskList,w=p.reducer,S=r(5),L=r(21),C=r(1),F=function(e){var t=Object(d.a)("button",{target:"e1ml3uku0"})((function(e){return Object(L.a)("background-color:",e.color,";color:white;min-width:2.5rem;border:solid 2px transparent;border-radius:0.4em;width:100%;:disabled{opacity:0.5;}&:hover:not(:disabled){color:",e.hoverColor?"white":e.color,";border-color:",e.hoverColor?e.hoverColor:"currentColor",";background-color:",e.hoverColor?e.hoverColor:"transparent",";}","")}),";");return Object(C.jsx)(t,{color:e.color,hoverColor:e.hoverColor,type:e.type,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,disabled:e.disabled,onClick:e.onClick,children:e.children})};var E=Object(d.a)("div",{target:"ek9yrpn8"})({name:"3m4zgl",styles:"border-top:1px solid black;padding:1rem 0rem 1rem 3.5rem"}),T=Object(d.a)("form",{target:"ek9yrpn7"})({name:"zjik7",styles:"display:flex"}),D=Object(d.a)("input",{target:"ek9yrpn6"})({name:"10t7bwh",styles:"width:24rem"}),B=Object(d.a)("div",{target:"ek9yrpn5"})({name:"1xup018",styles:"display:inline-flex;margin-left:0.5rem;overflow:hidden;flex-grow:2"}),A=Object(d.a)("div",{target:"ek9yrpn4"})({name:"ms31c9",styles:"display:inline-flex;float:right;margin-right:0.8rem"}),I=Object(d.a)("button",{target:"ek9yrpn3"})({name:"94lcm",styles:"background-color:transparent;border:none"}),z=Object(d.a)(j.a,{target:"ek9yrpn2"})({name:"72j7li",styles:"width:1em;display:inline;&:hover{color:#2E8B57;}"}),M=Object(d.a)(h.a,{target:"ek9yrpn1"})({name:"1fvfwsy",styles:"width:1em;display:inline;&:hover{color:#B22222;}"}),P=Object(d.a)("span",{target:"ek9yrpn0"})({name:"1bdslvk",styles:"position:relative;background-color:white;border:1px #0366d6 solid;border-radius:50%;height:1rem;width:1rem;float:left;margin-top:0.2rem;margin-left:-2.5rem"}),U=function(e){var t=e.item,r=t.id,a=t.task,s=Object(n.useState)(""===a),i=Object(b.a)(s,2),o=i[0],c=i[1],l=Object(n.useState)(a),d=Object(b.a)(l,2),u=d[0],j=d[1],h=Object(S.b)(),m=Object(n.useRef)(null);Object(n.useEffect)((function(){o&&m.current.focus()}),[o]);return Object(C.jsxs)(E,{onDragStart:e.onDragStart,onDragEnter:e.onDragEnter,draggable:e.draggable,children:[Object(C.jsx)(P,{}),Object(C.jsxs)(T,{children:[Object(C.jsx)(B,{children:o?Object(C.jsx)(D,{ref:m,type:"text",name:"task",value:u,onChange:function(e){return j(e.target.value)},disabled:e.isDisabled,autocomplete:"off"}):u}),Object(C.jsx)(A,{children:o?Object(C.jsx)(F,{color:"#000000",hoverColor:"#2E8B57",onClick:function(e){e.preventDefault(),h(x({id:r,task:u})),c(!1)},disabled:u.length<1||u.length>25,children:"Save"}):Object(C.jsxs)("span",{children:[Object(C.jsx)(I,{onClick:function(){return c(!o)},children:Object(C.jsx)(z,{})}),Object(C.jsx)(I,{onClick:function(e){e.preventDefault(),h(v(r))},children:Object(C.jsx)(M,{})})]})})]})]})},J=r(40);var N,R=Object(d.a)("div",{target:"e701dr36"})({name:"1dvspdt",styles:"box-shadow:rgba(3, 102, 214, 0.3) 0px 0px 0px 3px;min-width:32rem;min-height:9.1rem;display:flex;flex-direction:column;border-radius:1rem;padding:1.4rem 0rem 0rem 0rem;border:1px solid black;background:linear-gradient(to right, \n        transparent 0%, \n        transparent calc(15% - 0.81px), \n        #FFB6C1 calc(15% - 0.8px), \n        #FFB6C1 calc(15% + 0.8px), \n        transparent calc(15% + 0.81px), \n        transparent 100%)"}),W=Object(d.a)("div",{target:"e701dr35"})({name:"137m9hp",styles:"display:inline-flex;flex-direction:row;padding-bottom:1rem"}),q=Object(d.a)("div",{target:"e701dr34"})({name:"1k2l68s",styles:"display:inline-flex;border:0.05rem solid black;border-radius:1rem;margin:0rem 0rem 0rem 1rem;overflow:hidden;:focus-within{border:2px dashed rgba(3, 102, 214, 0.3);}"}),V=Object(d.a)(J.a,{target:"e701dr33"})({name:"fiy3iw",styles:"color:gray;width:0.6rem;display:inline;margin-left:0.2rem;margin-right:0.2rem"}),Y=Object(d.a)("input",{target:"e701dr32"})({name:"1tekdo7",styles:"border:none;outline:none;width:16rem;line-height:0.8rem"}),Z=Object(d.a)("span",{target:"e701dr31"})({name:"1l892jg",styles:"margin-left:10.5rem;min-width:2.5rem"}),$=Object(d.a)("div",{target:"e701dr30"})({name:"18m0c7w",styles:":empty{border-top:1px solid black;}>:nth-of-type(odd){background:linear-gradient(to right, \n            #F0F8FF 0%, \n            #F0F8FF calc(15% - 0.81px), \n            #FFB6C1 calc(15% - 0.8px), \n            #FFB6C1 calc(15% + 0.8px), \n            #F0F8FF calc(15% + 0.81px), \n            #F0F8FF 100%);}>:only-child{border-bottom:1px solid black;}>:not(:only-child):last-child{background-clip:padding-box;border-bottom-left-radius:1rem;border-bottom-right-radius:1rem;}"}),_=function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),r=t[0],a=t[1],s=Object(n.useState)(!1),i=Object(b.a)(s,2),o=i[0],c=i[1],l=Object(S.b)(),d=Object(S.c)((function(e){return e.table.taskList})),j=Object(S.c)((function(e){return e.table.filteredList})),h=Object(n.useRef)(),m=Object(n.useRef)();Object(n.useEffect)((function(){l(g())}),[]);return Object(C.jsxs)(R,{children:[Object(C.jsxs)(W,{children:[Object(C.jsxs)(q,{children:[Object(C.jsx)(V,{}),Object(C.jsx)(Y,{type:"text",placeholder:"Search...",value:r,onChange:function(e){a(e.target.value),r.length>0&&l(y(e.target.value))}})]}),Object(C.jsx)(Z,{children:Object(C.jsx)(F,{color:"#191970",onClick:function(){return a(""),c(!1),void l(O({id:Date.now(),task:""}))},disabled:d[0]&&""===d[0].task,onMouseEnter:function(){c(!0)},onMouseLeave:function(){c(!1)},children:"New"})})]}),Object(C.jsxs)($,{children:[o&&Object(C.jsx)(U,{item:{id:-1,task:""},isDisabled:!0},"test"),r.length>0?j.map((function(e){return Object(C.jsx)(U,{item:e},e.id)})):d?d.map((function(e,t){return Object(C.jsx)(U,{onDragStart:function(e){return r=t,void(h.current=r);var r},onDragEnter:function(e){return function(e,t){m.current=t;var r=Object(u.a)(d),n=r[h.current];r.splice(h.current,1),r.splice(m.current,0,n),h.current=m.current,m.current=null,l(k(r))}(0,t)},onDragOver:function(e){return e.preventDefault()},draggable:d[0]&&""!==d[0].task,item:e},e.id)})):null]})]})},G=r(32),H=r.n(G),K=r(41),Q={user:[],auth:!1,status:"idle",httpErr:null},X=Object(m.b)("counter/fetchUser",function(){var e=Object(K.a)(H.a.mark((function e(t,r){var n,a,s,i;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.dispatch,r.getState,n=r.rejectWithValue,a=r.fulfillWithValue,e.prev=1,"http://dev.rapptrlabs.com/Tests/scripts/user-login.php",e.next=5,fetch("http://dev.rapptrlabs.com/Tests/scripts/user-login.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:new URLSearchParams({email:t.email,password:t.password}),mode:"cors"});case 5:if((s=e.sent).ok){e.next=8;break}return e.abrupt("return",n(s.status));case 8:return e.next=10,s.json();case 10:return i=e.sent,e.abrupt("return",a(i));case 14:throw e.prev=14,e.t0=e.catch(1),n(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t,r){return e.apply(this,arguments)}}()),ee=Object(m.c)({name:"user",initialState:Q,reducers:{getUser:function(e,t){var r=t.payload,n=void 0===r?{}:r,a=n.hasOwnProperty("user_token");console.log(n),a&&localStorage.setItem("isAuth",!0),e.auth=a,e.user=n},clearUser:function(e){return localStorage.removeItem("isAuth"),Q},setAuth:function(e,t){var r=t.payload;localStorage.setItem("isAuth",r),e.auth=r}},extraReducers:function(e){e.addCase(X.pending,(function(e){e.status="loading"})).addCase(X.fulfilled,(function(e,t){var r=t.payload;console.log(r),e.status="idle";var n=r.hasOwnProperty("user_token");n&&localStorage.setItem("isAuth",!0),e.auth=n,e.user=r})).addCase(X.rejected,(function(e,t){var r=t.payload;e.status="idle",e.httpErr=r}))}}),te=ee.actions,re=(te.getUser,te.clearUser),ne=te.setAuth,ae=ee.reducer;r(58);var se=Object(L.b)(N||(N=Object(l.a)(["\n    from {\n        transform: translateY(0px);\n    }\n    to {\n        transform: translateY(-18px);\n    }\n"]))),ie=Object(d.a)("div",{target:"e5p9g1h2"})({name:"lbaktj",styles:"display:grid;justify-items:center"}),oe=Object(d.a)("h1",{target:"e5p9g1h1"})("padding:1rem 0rem 0.2rem 0rem;font-size:2rem;animation:",se," 4s linear infinite alternate;"),ce=Object(d.a)("div",{target:"e5p9g1h0"})({name:"jr7tps",styles:"position:fixed;right:0px;margin:0.5rem 0.5rem 0.5rem 0.5rem"}),le=function(){var e=Object(S.b)();return Object(C.jsxs)(ie,{children:[Object(C.jsx)(ce,{children:Object(C.jsx)(F,{color:"#778899",onClick:function(t){t.preventDefault(),e(re())},children:"Logout"})}),Object(C.jsx)("div",{children:Object(C.jsx)(oe,{children:"My To-Do List"})}),Object(C.jsx)("div",{children:Object(C.jsx)(_,{})})]})},de=r(42),ue=r(43);var be=Object(d.a)("div",{target:"eh1b7la8"})({name:"1099lvb",styles:"display:grid;justify-content:center;align-content:space-between"}),je=Object(d.a)("h1",{target:"eh1b7la7"})({name:"c1v4ce",styles:"padding:1rem 0rem 0.2rem 0rem;font-size:2.5em"}),he=Object(d.a)("label",{target:"eh1b7la6"})({name:"1x6ywlk",styles:"font-size:0.8rem;margin-left:1rem"}),me=Object(d.a)("div",{target:"eh1b7la5"})({name:"yrek1n",styles:"display:block;color:#B22222;font-size:0.8rem;margin-bottom:1.5rem;min-height:1rem;text-align:center"}),pe=Object(d.a)("div",{target:"eh1b7la4"})("border:2px solid black;display:flex;width:100%;box-sizing:border-box;margin-bottom:0.5rem;border-radius:0.4em;overflow:hidden;&:hover{border-style:dashed;}:focus-within{border:2px dashed #191970;}input:not(:focus):not(:placeholder-shown):invalid{border:2px dashed #B22222;",me,"{display:block!important;}}input:not(:focus):not(:placeholder-shown):valid{border:2px solid #2E8B57;}"),fe=Object(d.a)("input",{target:"eh1b7la3"})({name:"w7crxu",styles:"display:inline-block;border:none;outline:none;font-size:0.7rem;overflow:visible;flex:1"}),ge=Object(d.a)(de.a,{target:"eh1b7la2"})({name:"1oufa3m",styles:"width:1rem;display:inline"}),Oe=Object(d.a)(ue.a,{target:"eh1b7la1"})({name:"1oufa3m",styles:"width:1rem;display:inline"}),xe=Object(d.a)("div",{target:"eh1b7la0"})({name:"1jhriu",styles:"margin-top:2rem;width:100%"}),ve=function(){var e=Object(S.b)(),t=Object(c.f)(),r=Object(S.c)((function(e){return e.user.status})),a=Object(S.c)((function(e){return e.user.auth})),s=Object(S.c)((function(e){return e.user.httpErr})),i=Object(n.useState)(""),o=Object(b.a)(i,2),l=o[0],d=o[1],u=Object(n.useState)(),j=Object(b.a)(u,2),h=j[0],m=j[1],p=Object(n.useState)(""),f=Object(b.a)(p,2),g=f[0],O=f[1],x=Object(n.useState)(),v=Object(b.a)(x,2),y=v[0],k=v[1];Object(n.useEffect)((function(){var t=localStorage.getItem("isAuth");t&&e(ne(t))}),[]);var w=function(e){switch(e){case"username":l&&!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(l).toLowerCase())?m(!1):m(!0);break;case"password":g&&(g.length<4||g.length>16)?k(!1):k(!0)}};return Object(C.jsxs)(be,{children:[Object(C.jsx)(je,{children:"Rapptr Labs"}),Object(C.jsxs)("form",{onSubmit:function(r){r.preventDefault(),e(X({email:l,password:g})).then((function(){a&&t.push("/home")}))},children:[Object(C.jsx)(he,{children:"Email"}),Object(C.jsxs)(pe,{children:[Object(C.jsx)(ge,{}),Object(C.jsx)(fe,{type:"email",placeholder:"user@rapptrlabs.com",value:l,onChange:function(e){return d(e.target.value)},onBlur:function(e){return w("username")},required:!0,pattern:".{1,50}"})]}),Object(C.jsx)(me,{children:!1===h?"Not a valid email":null}),Object(C.jsx)(he,{children:"Password"}),Object(C.jsxs)(pe,{children:[Object(C.jsx)(Oe,{}),Object(C.jsx)(fe,{placeholder:"Must be at least 4 characters",value:g,onChange:function(e){return O(e.target.value)},onBlur:function(e){return w("password")},required:!0,pattern:".{4,16}",title:"Password must be 4-16 characters."})]}),Object(C.jsx)(me,{children:!1===y?"Password must be 4-16 characters":null}),Object(C.jsx)(xe,{children:Object(C.jsx)(F,{color:"#191970",type:"submit",disabled:!y&&!h||"loading"===r,children:"loading"===r?"...":"login"})}),Object(C.jsx)(me,{children:s?"Error ".concat(s):null})]})]})},ye=r(34),ke=r(46),we=["isAuth","component"];var Se=function(e){var t=e.isAuth,r=e.component,n=Object(ke.a)(e,we);return Object(C.jsx)(c.b,Object(ye.a)(Object(ye.a)({},n),{},{render:function(e){return t?Object(C.jsx)(r,{}):Object(C.jsx)(c.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},Le=function(){var e=Object(S.c)((function(e){return e.user.auth}));return Object(C.jsxs)(o.a,{children:[Object(C.jsx)(c.b,{path:"/login",children:Object(C.jsx)(ve,{})}),Object(C.jsx)(Se,{path:"/home",component:le,isAuth:e}),e?Object(C.jsx)(c.a,{to:"/home"}):Object(C.jsx)(c.a,{to:"/login"})]})},Ce=Object(m.a)({reducer:{user:ae,table:w}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(C.jsx)(a.a.StrictMode,{children:Object(C.jsx)(S.a,{store:Ce,children:Object(C.jsx)(Le,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[61,1,2]]]);
//# sourceMappingURL=main.1b3096a4.chunk.js.map